import React, { useState, useEffect, Fragment } from "react";
import { ethers } from "ethers";
//import './App.css';
import addresses from "./addresses.js";
import abis from "./abis.js";

import Container from "react-bootstrap/Container";
import Row from "react-bootstrap/Row";
import Col from "react-bootstrap/Col";
import Navbar from "react-bootstrap/Navbar";
import Nav from "react-bootstrap/Nav";

import Button from "react-bootstrap/Button";

import RankCard from "./components/RankCard.js";

/* 
*/
function App() {
  const [rank, setRank] = useState();
  const [balance, setBalance] = useState();
  /* const [depositValue, setDepositValue] = useState("");
  const [rankValue, setRankValue] = useState(""); */
  const [userAddress, setUserAddress] = useState();

  // A Web3Provider wraps a standard Web3 provider, which is
  // what MetaMask injects as window.ethereum into each page
  const provider = new ethers.providers.Web3Provider(window.ethereum);
  // The MetaMask plugin also allows signing transactions to
  // send ether and pay to change state within the blockchain.
  // For this, you need the account signer...
  const signer = provider.getSigner();

  // contract instance creation
// Test ContractAddresses
//  const ContractAddress = addresses.testnetContract;
//  const ContractAddress = "0x5FbDB2315678afecb367f032d93F642f64180aa3";
  const ContractAddress = "0xC934B8e909653BeeAAF226f514723D15f357BC33";


// Test ContractABI
//  const ContractABI = abis.testnetAbi;
//  const ContractABI = [{
//  "_format": "hh-sol-artifact-1",
//  "contractName": "Token",
//  "sourceName": "contracts/Agreed_Token.sol",
//  "abi": [
//    {
//      "inputs": [],
//      "stateMutability": "nonpayable",
//      "type": "constructor"
//    },
//    {
//      "anonymous": false,
//      "inputs": [
//        {
//          "indexed": true,
//          "internalType": "address",
//          "name": "owner",
//          "type": "address"
//        },
//        {
//          "indexed": true,
//          "internalType": "address",
//          "name": "spender",
//          "type": "address"
//        },
//        {
//          "indexed": false,
//          "internalType": "uint256",
//          "name": "value",
//          "type": "uint256"
//        }
//      ],
//      "name": "Approval",
//      "type": "event"
//    },
//    {
//      "anonymous": false,
//      "inputs": [
//        {
//          "indexed": true,
//          "internalType": "address",
//          "name": "previousOwner",
//          "type": "address"
//        },
//        {
//          "indexed": true,
//          "internalType": "address",
//          "name": "newOwner",
//          "type": "address"
//        }
//      ],
//      "name": "OwnershipTransferred",
//      "type": "event"
//    },
//    {
//      "anonymous": false,
//      "inputs": [
//        {
//          "indexed": true,
//          "internalType": "address",
//          "name": "from",
//          "type": "address"
//        },
//        {
//          "indexed": true,
//          "internalType": "address",
//          "name": "to",
//          "type": "address"
//        },
//        {
//          "indexed": false,
//          "internalType": "uint256",
//          "name": "value",
//          "type": "uint256"
//        }
//      ],
//      "name": "Transfer",
//      "type": "event"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "owner",
//          "type": "address"
//        },
//        {
//          "internalType": "address",
//          "name": "spender",
//          "type": "address"
//        }
//      ],
//      "name": "allowance",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "spender",
//          "type": "address"
//        },
//        {
//          "internalType": "uint256",
//          "name": "amount",
//          "type": "uint256"
//        }
//      ],
//      "name": "approve",
//      "outputs": [
//        {
//          "internalType": "bool",
//          "name": "",
//          "type": "bool"
//        }
//      ],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "account",
//          "type": "address"
//        }
//      ],
//      "name": "balanceOf",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [],
//      "name": "decimals",
//      "outputs": [
//        {
//          "internalType": "uint8",
//          "name": "",
//          "type": "uint8"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "spender",
//          "type": "address"
//        },
//        {
//          "internalType": "uint256",
//          "name": "subtractedValue",
//          "type": "uint256"
//        }
//      ],
//      "name": "decreaseAllowance",
//      "outputs": [
//        {
//          "internalType": "bool",
//          "name": "",
//          "type": "bool"
//        }
//      ],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "_holder",
//          "type": "address"
//        }
//      ],
//      "name": "getRank",
//      "outputs": [
//        {
//          "internalType": "enum Token.UserRank",
//          "name": "",
//          "type": "uint8"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "_holder",
//          "type": "address"
//        },
//        {
//          "internalType": "enum Token.UserRank",
//          "name": "_rank",
//          "type": "uint8"
//        }
//      ],
//      "name": "hasRank",
//      "outputs": [
//        {
//          "internalType": "bool",
//          "name": "",
//          "type": "bool"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "spender",
//          "type": "address"
//        },
//        {
//          "internalType": "uint256",
//          "name": "addedValue",
//          "type": "uint256"
//        }
//      ],
//      "name": "increaseAllowance",
//      "outputs": [
//        {
//          "internalType": "bool",
//          "name": "",
//          "type": "bool"
//        }
//      ],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "inputs": [],
//      "name": "name",
//      "outputs": [
//        {
//          "internalType": "string",
//          "name": "",
//          "type": "string"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [],
//      "name": "owner",
//      "outputs": [
//        {
//          "internalType": "address",
//          "name": "",
//          "type": "address"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "",
//          "type": "address"
//        }
//      ],
//      "name": "rank",
//      "outputs": [
//        {
//          "internalType": "enum Token.UserRank",
//          "name": "",
//          "type": "uint8"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [],
//      "name": "renounceOwnership",
//      "outputs": [],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "uint256",
//          "name": "_firstValue",
//          "type": "uint256"
//        },
//        {
//          "internalType": "uint256",
//          "name": "_secondValue",
//          "type": "uint256"
//        }
//      ],
//      "name": "restrictedDiamond",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "uint256",
//          "name": "_firstValue",
//          "type": "uint256"
//        },
//        {
//          "internalType": "uint256",
//          "name": "_secondValue",
//          "type": "uint256"
//        }
//      ],
//      "name": "restrictedGold",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "uint256",
//          "name": "_firstValue",
//          "type": "uint256"
//        },
//        {
//          "internalType": "uint256",
//          "name": "_secondValue",
//          "type": "uint256"
//        }
//      ],
//      "name": "restrictedPlatinum",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "uint256",
//          "name": "_firstValue",
//          "type": "uint256"
//        },
//        {
//          "internalType": "uint256",
//          "name": "_secondValue",
//          "type": "uint256"
//        }
//      ],
//      "name": "restrictedSilver",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [],
//      "name": "symbol",
//      "outputs": [
//        {
//          "internalType": "string",
//          "name": "",
//          "type": "string"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [],
//      "name": "totalSupply",
//      "outputs": [
//        {
//          "internalType": "uint256",
//          "name": "",
//          "type": "uint256"
//        }
//      ],
//      "stateMutability": "view",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "recipient",
//          "type": "address"
//        },
//        {
//          "internalType": "uint256",
//          "name": "amount",
//          "type": "uint256"
//        }
//      ],
//      "name": "transfer",
//      "outputs": [
//        {
//          "internalType": "bool",
//          "name": "",
//          "type": "bool"
//        }
//      ],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "sender",
//          "type": "address"
//        },
//        {
//          "internalType": "address",
//          "name": "recipient",
//          "type": "address"
//        },
//        {
//          "internalType": "uint256",
//          "name": "amount",
//          "type": "uint256"
//        }
//      ],
//      "name": "transferFrom",
//      "outputs": [
//        {
//          "internalType": "bool",
//          "name": "",
//          "type": "bool"
//        }
//      ],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "inputs": [
//        {
//          "internalType": "address",
//          "name": "newOwner",
//          "type": "address"
//        }
//      ],
//      "name": "transferOwnership",
//      "outputs": [],
//      "stateMutability": "nonpayable",
//      "type": "function"
//    },
//    {
//      "stateMutability": "payable",
//      "type": "receive"
//    }
//  ],
//  "bytecode": "0x60806040523480156200001157600080fd5b506040518060400160405280600681526020017f41677265656400000000000000000000000000000000000000000000000000008152506040518060400160405280600481526020017f414752440000000000000000000000000000000000000000000000000000000081525081600390805190602001906200009692919062000381565b508060049080519060200190620000af92919062000381565b505050620000d2620000c66200012760201b60201c565b6200012f60201b60201c565b62000121620000e66200012760201b60201c565b620000f6620001f560201b60201c565b600a620001049190620005cb565b6305f5e1006200011591906200061c565b620001fe60201b60201c565b620007f0565b600033905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b60006012905090565b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141562000271576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200026890620006de565b60405180910390fd5b62000285600083836200037760201b60201c565b806002600082825462000299919062000700565b92505081905550806000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254620002f0919062000700565b925050819055508173ffffffffffffffffffffffffffffffffffffffff16600073ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516200035791906200076e565b60405180910390a362000373600083836200037c60201b60201c565b5050565b505050565b505050565b8280546200038f90620007ba565b90600052602060002090601f016020900481019282620003b35760008555620003ff565b82601f10620003ce57805160ff1916838001178555620003ff565b82800160010185558215620003ff579182015b82811115620003fe578251825591602001919060010190620003e1565b5b5090506200040e919062000412565b5090565b5b808211156200042d57600081600090555060010162000413565b5090565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b60008160011c9050919050565b6000808291508390505b6001851115620004bf5780860481111562000497576200049662000431565b5b6001851615620004a75780820291505b8081029050620004b78562000460565b945062000477565b94509492505050565b600082620004da5760019050620005ad565b81620004ea5760009050620005ad565b81600181146200050357600281146200050e5762000544565b6001915050620005ad565b60ff84111562000523576200052262000431565b5b8360020a9150848211156200053d576200053c62000431565b5b50620005ad565b5060208310610133831016604e8410600b84101617156200057e5782820a90508381111562000578576200057762000431565b5b620005ad565b6200058d84848460016200046d565b92509050818404811115620005a757620005a662000431565b5b81810290505b9392505050565b6000819050919050565b600060ff82169050919050565b6000620005d882620005b4565b9150620005e583620005be565b9250620006147fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484620004c8565b905092915050565b60006200062982620005b4565b91506200063683620005b4565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161562000672576200067162000431565b5b828202905092915050565b600082825260208201905092915050565b7f45524332303a206d696e7420746f20746865207a65726f206164647265737300600082015250565b6000620006c6601f836200067d565b9150620006d3826200068e565b602082019050919050565b60006020820190508181036000830152620006f981620006b7565b9050919050565b60006200070d82620005b4565b91506200071a83620005b4565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111562000752576200075162000431565b5b828201905092915050565b6200076881620005b4565b82525050565b60006020820190506200078560008301846200075d565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680620007d357607f821691505b60208210811415620007ea57620007e96200078b565b5b50919050565b61252480620008006000396000f3fe60806040526004361061012e5760003560e01c8063715018a6116100ab578063a9059cbb1161006f578063a9059cbb1461044d578063b22a1e291461048a578063dd62ed3e146104c7578063f2fde38b14610504578063f7ae399f1461052d578063f8f88dc21461056a57610135565b8063715018a6146103665780638da5cb5b1461037d57806393816578146103a857806395d89b41146103e5578063a457c2d71461041057610135565b8063313ce567116100f2578063313ce56714610247578063373b4e801461027257806339509351146102af578063548c0ef4146102ec57806370a082311461032957610135565b806306fdde031461013a578063095ea7b3146101655780630b3f15bb146101a257806318160ddd146101df57806323b872dd1461020a57610135565b3661013557005b600080fd5b34801561014657600080fd5b5061014f6105a7565b60405161015c9190611881565b60405180910390f35b34801561017157600080fd5b5061018c6004803603810190610187919061193c565b610639565b6040516101999190611997565b60405180910390f35b3480156101ae57600080fd5b506101c960048036038101906101c491906119b2565b61065c565b6040516101d69190611a01565b60405180910390f35b3480156101eb57600080fd5b506101f461071c565b6040516102019190611a01565b60405180910390f35b34801561021657600080fd5b50610231600480360381019061022c9190611a1c565b610726565b60405161023e9190611997565b60405180910390f35b34801561025357600080fd5b5061025c6108a3565b6040516102699190611a8b565b60405180910390f35b34801561027e57600080fd5b50610299600480360381019061029491906119b2565b6108ac565b6040516102a69190611a01565b60405180910390f35b3480156102bb57600080fd5b506102d660048036038101906102d1919061193c565b61096c565b6040516102e39190611997565b60405180910390f35b3480156102f857600080fd5b50610313600480360381019061030e9190611aa6565b6109a3565b6040516103209190611b4a565b60405180910390f35b34801561033557600080fd5b50610350600480360381019061034b9190611aa6565b6109f9565b60405161035d9190611a01565b60405180910390f35b34801561037257600080fd5b5061037b610a41565b005b34801561038957600080fd5b50610392610ac9565b60405161039f9190611b74565b60405180910390f35b3480156103b457600080fd5b506103cf60048036038101906103ca9190611bb4565b610af3565b6040516103dc9190611997565b60405180910390f35b3480156103f157600080fd5b506103fa610b71565b6040516104079190611881565b60405180910390f35b34801561041c57600080fd5b506104376004803603810190610432919061193c565b610c03565b6040516104449190611997565b60405180910390f35b34801561045957600080fd5b50610474600480360381019061046f919061193c565b610c7a565b6040516104819190611997565b60405180910390f35b34801561049657600080fd5b506104b160048036038101906104ac91906119b2565b610c91565b6040516104be9190611a01565b60405180910390f35b3480156104d357600080fd5b506104ee60048036038101906104e99190611bf4565b610d51565b6040516104fb9190611a01565b60405180910390f35b34801561051057600080fd5b5061052b60048036038101906105269190611aa6565b610dd8565b005b34801561053957600080fd5b50610554600480360381019061054f91906119b2565b610ed0565b6040516105619190611a01565b60405180910390f35b34801561057657600080fd5b50610591600480360381019061058c9190611aa6565b610f90565b60405161059e9190611b4a565b60405180910390f35b6060600380546105b690611c63565b80601f01602080910402602001604051908101604052809291908181526020018280546105e290611c63565b801561062f5780601f106106045761010080835404028352916020019161062f565b820191906000526020600020905b81548152906001019060200180831161061257829003601f168201915b5050505050905090565b600080610644610fb0565b9050610651818585610fb8565b600191505092915050565b600060048060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1660048111156106c3576106c2611ad3565b5b60ff161015610707576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fe90611ce1565b60405180910390fd5b82846107139190611d30565b91505092915050565b6000600254905090565b600080600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000610772610fb0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050828110156107f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107e990611dfc565b60405180910390fd5b82600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061083c610fb0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546108859190611e1c565b92505081905550610897858585611183565b60019150509392505050565b60006012905090565b600060038060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16600481111561091357610912611ad3565b5b60ff161015610957576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094e90611ce1565b60405180910390fd5b82846109639190611d30565b91505092915050565b600080610977610fb0565b90506109988185856109898589610d51565b6109939190611e50565b610fb8565b600191505092915050565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610a49610fb0565b73ffffffffffffffffffffffffffffffffffffffff16610a67610ac9565b73ffffffffffffffffffffffffffffffffffffffff1614610abd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ab490611ef2565b60405180910390fd5b610ac760006111a7565b565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000816004811115610b0857610b07611ad3565b5b600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166004811115610b6757610b66611ad3565b5b1015905092915050565b606060048054610b8090611c63565b80601f0160208091040260200160405190810160405280929190818152602001828054610bac90611c63565b8015610bf95780601f10610bce57610100808354040283529160200191610bf9565b820191906000526020600020905b815481529060010190602001808311610bdc57829003601f168201915b5050505050905090565b600080610c0e610fb0565b90506000610c1c8286610d51565b905083811015610c61576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c5890611f84565b60405180910390fd5b610c6e8286868403610fb8565b60019250505092915050565b6000610c87338484611183565b6001905092915050565b600060028060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166004811115610cf857610cf7611ad3565b5b60ff161015610d3c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3390611ce1565b60405180910390fd5b8284610d489190611d30565b91505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b610de0610fb0565b73ffffffffffffffffffffffffffffffffffffffff16610dfe610ac9565b73ffffffffffffffffffffffffffffffffffffffff1614610e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4b90611ef2565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610ec4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ebb90612016565b60405180910390fd5b610ecd816111a7565b50565b600060018060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166004811115610f3757610f36611ad3565b5b60ff161015610f7b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f7290611ce1565b60405180910390fd5b8284610f879190611d30565b91505092915050565b60066020528060005260406000206000915054906101000a900460ff1681565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611028576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161101f906120a8565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611098576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161108f9061213a565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516111769190611a01565b60405180910390a3505050565b61118e83838361126d565b611197836114ee565b506111a1826114ee565b50505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156112dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112d4906121cc565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561134d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113449061225e565b60405180910390fd5b6113588383836117de565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050818110156113de576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113d5906122f0565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114719190611e50565b925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516114d59190611a01565b60405180910390a36114e88484846117e3565b50505050565b6000806114f96108a3565b600a6115059190612443565b61150e846109f9565b61151891906124bd565b90506064811015801561152d57506103e88111155b1561159b576001600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561159557611594611ad3565b5b02179055505b6103e8811180156115ae57506127108111155b1561161c576002600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561161657611615611ad3565b5b02179055505b612710811180156116305750620186a08111155b1561169e576003600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561169857611697611ad3565b5b02179055505b620186a0811115611716576004600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561170c5761170b611ad3565b5b0217905550611789565b6064811015611788576000600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561178257611781611ad3565b5b02179055505b5b600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16915050919050565b505050565b505050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611822578082015181840152602081019050611807565b83811115611831576000848401525b50505050565b6000601f19601f8301169050919050565b6000611853826117e8565b61185d81856117f3565b935061186d818560208601611804565b61187681611837565b840191505092915050565b6000602082019050818103600083015261189b8184611848565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006118d3826118a8565b9050919050565b6118e3816118c8565b81146118ee57600080fd5b50565b600081359050611900816118da565b92915050565b6000819050919050565b61191981611906565b811461192457600080fd5b50565b60008135905061193681611910565b92915050565b60008060408385031215611953576119526118a3565b5b6000611961858286016118f1565b925050602061197285828601611927565b9150509250929050565b60008115159050919050565b6119918161197c565b82525050565b60006020820190506119ac6000830184611988565b92915050565b600080604083850312156119c9576119c86118a3565b5b60006119d785828601611927565b92505060206119e885828601611927565b9150509250929050565b6119fb81611906565b82525050565b6000602082019050611a1660008301846119f2565b92915050565b600080600060608486031215611a3557611a346118a3565b5b6000611a43868287016118f1565b9350506020611a54868287016118f1565b9250506040611a6586828701611927565b9150509250925092565b600060ff82169050919050565b611a8581611a6f565b82525050565b6000602082019050611aa06000830184611a7c565b92915050565b600060208284031215611abc57611abb6118a3565b5b6000611aca848285016118f1565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60058110611b1357611b12611ad3565b5b50565b6000819050611b2482611b02565b919050565b6000611b3482611b16565b9050919050565b611b4481611b29565b82525050565b6000602082019050611b5f6000830184611b3b565b92915050565b611b6e816118c8565b82525050565b6000602082019050611b896000830184611b65565b92915050565b60058110611b9c57600080fd5b50565b600081359050611bae81611b8f565b92915050565b60008060408385031215611bcb57611bca6118a3565b5b6000611bd9858286016118f1565b9250506020611bea85828601611b9f565b9150509250929050565b60008060408385031215611c0b57611c0a6118a3565b5b6000611c19858286016118f1565b9250506020611c2a858286016118f1565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611c7b57607f821691505b60208210811415611c8f57611c8e611c34565b5b50919050565b7f4869676865722072616e6b207265717569726564000000000000000000000000600082015250565b6000611ccb6014836117f3565b9150611cd682611c95565b602082019050919050565b60006020820190508181036000830152611cfa81611cbe565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611d3b82611906565b9150611d4683611906565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615611d7f57611d7e611d01565b5b828202905092915050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206160008201527f6c6c6f77616e6365000000000000000000000000000000000000000000000000602082015250565b6000611de66028836117f3565b9150611df182611d8a565b604082019050919050565b60006020820190508181036000830152611e1581611dd9565b9050919050565b6000611e2782611906565b9150611e3283611906565b925082821015611e4557611e44611d01565b5b828203905092915050565b6000611e5b82611906565b9150611e6683611906565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115611e9b57611e9a611d01565b5b828201905092915050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000611edc6020836117f3565b9150611ee782611ea6565b602082019050919050565b60006020820190508181036000830152611f0b81611ecf565b9050919050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000611f6e6025836117f3565b9150611f7982611f12565b604082019050919050565b60006020820190508181036000830152611f9d81611f61565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b60006120006026836117f3565b915061200b82611fa4565b604082019050919050565b6000602082019050818103600083015261202f81611ff3565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006120926024836117f3565b915061209d82612036565b604082019050919050565b600060208201905081810360008301526120c181612085565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b60006121246022836117f3565b915061212f826120c8565b604082019050919050565b6000602082019050818103600083015261215381612117565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b60006121b66025836117f3565b91506121c18261215a565b604082019050919050565b600060208201905081810360008301526121e5816121a9565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b60006122486023836117f3565b9150612253826121ec565b604082019050919050565b600060208201905081810360008301526122778161223b565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b60006122da6026836117f3565b91506122e58261227e565b604082019050919050565b60006020820190508181036000830152612309816122cd565b9050919050565b60008160011c9050919050565b6000808291508390505b60018511156123675780860481111561234357612342611d01565b5b60018516156123525780820291505b808102905061236085612310565b9450612327565b94509492505050565b600082612380576001905061243c565b8161238e576000905061243c565b81600181146123a457600281146123ae576123dd565b600191505061243c565b60ff8411156123c0576123bf611d01565b5b8360020a9150848211156123d7576123d6611d01565b5b5061243c565b5060208310610133831016604e8410600b84101617156124125782820a90508381111561240d5761240c611d01565b5b61243c565b61241f848484600161231d565b9250905081840481111561243657612435611d01565b5b81810290505b9392505050565b600061244e82611906565b915061245983611a6f565b92506124867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484612370565b905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006124c882611906565b91506124d383611906565b9250826124e3576124e261248e565b5b82820490509291505056fea2646970667358221220edbee77cd3b32e230cda9a71b5c6034380f519de7ae54547e9230c708693d4d464736f6c634300080a0033",
//  "deployedBytecode": "0x60806040526004361061012e5760003560e01c8063715018a6116100ab578063a9059cbb1161006f578063a9059cbb1461044d578063b22a1e291461048a578063dd62ed3e146104c7578063f2fde38b14610504578063f7ae399f1461052d578063f8f88dc21461056a57610135565b8063715018a6146103665780638da5cb5b1461037d57806393816578146103a857806395d89b41146103e5578063a457c2d71461041057610135565b8063313ce567116100f2578063313ce56714610247578063373b4e801461027257806339509351146102af578063548c0ef4146102ec57806370a082311461032957610135565b806306fdde031461013a578063095ea7b3146101655780630b3f15bb146101a257806318160ddd146101df57806323b872dd1461020a57610135565b3661013557005b600080fd5b34801561014657600080fd5b5061014f6105a7565b60405161015c9190611881565b60405180910390f35b34801561017157600080fd5b5061018c6004803603810190610187919061193c565b610639565b6040516101999190611997565b60405180910390f35b3480156101ae57600080fd5b506101c960048036038101906101c491906119b2565b61065c565b6040516101d69190611a01565b60405180910390f35b3480156101eb57600080fd5b506101f461071c565b6040516102019190611a01565b60405180910390f35b34801561021657600080fd5b50610231600480360381019061022c9190611a1c565b610726565b60405161023e9190611997565b60405180910390f35b34801561025357600080fd5b5061025c6108a3565b6040516102699190611a8b565b60405180910390f35b34801561027e57600080fd5b50610299600480360381019061029491906119b2565b6108ac565b6040516102a69190611a01565b60405180910390f35b3480156102bb57600080fd5b506102d660048036038101906102d1919061193c565b61096c565b6040516102e39190611997565b60405180910390f35b3480156102f857600080fd5b50610313600480360381019061030e9190611aa6565b6109a3565b6040516103209190611b4a565b60405180910390f35b34801561033557600080fd5b50610350600480360381019061034b9190611aa6565b6109f9565b60405161035d9190611a01565b60405180910390f35b34801561037257600080fd5b5061037b610a41565b005b34801561038957600080fd5b50610392610ac9565b60405161039f9190611b74565b60405180910390f35b3480156103b457600080fd5b506103cf60048036038101906103ca9190611bb4565b610af3565b6040516103dc9190611997565b60405180910390f35b3480156103f157600080fd5b506103fa610b71565b6040516104079190611881565b60405180910390f35b34801561041c57600080fd5b506104376004803603810190610432919061193c565b610c03565b6040516104449190611997565b60405180910390f35b34801561045957600080fd5b50610474600480360381019061046f919061193c565b610c7a565b6040516104819190611997565b60405180910390f35b34801561049657600080fd5b506104b160048036038101906104ac91906119b2565b610c91565b6040516104be9190611a01565b60405180910390f35b3480156104d357600080fd5b506104ee60048036038101906104e99190611bf4565b610d51565b6040516104fb9190611a01565b60405180910390f35b34801561051057600080fd5b5061052b60048036038101906105269190611aa6565b610dd8565b005b34801561053957600080fd5b50610554600480360381019061054f91906119b2565b610ed0565b6040516105619190611a01565b60405180910390f35b34801561057657600080fd5b50610591600480360381019061058c9190611aa6565b610f90565b60405161059e9190611b4a565b60405180910390f35b6060600380546105b690611c63565b80601f01602080910402602001604051908101604052809291908181526020018280546105e290611c63565b801561062f5780601f106106045761010080835404028352916020019161062f565b820191906000526020600020905b81548152906001019060200180831161061257829003601f168201915b5050505050905090565b600080610644610fb0565b9050610651818585610fb8565b600191505092915050565b600060048060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1660048111156106c3576106c2611ad3565b5b60ff161015610707576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fe90611ce1565b60405180910390fd5b82846107139190611d30565b91505092915050565b6000600254905090565b600080600160008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000610772610fb0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050828110156107f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107e990611dfc565b60405180910390fd5b82600160008773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600061083c610fb0565b73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546108859190611e1c565b92505081905550610897858585611183565b60019150509392505050565b60006012905090565b600060038060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16600481111561091357610912611ad3565b5b60ff161015610957576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161094e90611ce1565b60405180910390fd5b82846109639190611d30565b91505092915050565b600080610977610fb0565b90506109988185856109898589610d51565b6109939190611e50565b610fb8565b600191505092915050565b6000600660008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff169050919050565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b610a49610fb0565b73ffffffffffffffffffffffffffffffffffffffff16610a67610ac9565b73ffffffffffffffffffffffffffffffffffffffff1614610abd576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ab490611ef2565b60405180910390fd5b610ac760006111a7565b565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000816004811115610b0857610b07611ad3565b5b600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166004811115610b6757610b66611ad3565b5b1015905092915050565b606060048054610b8090611c63565b80601f0160208091040260200160405190810160405280929190818152602001828054610bac90611c63565b8015610bf95780601f10610bce57610100808354040283529160200191610bf9565b820191906000526020600020905b815481529060010190602001808311610bdc57829003601f168201915b5050505050905090565b600080610c0e610fb0565b90506000610c1c8286610d51565b905083811015610c61576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c5890611f84565b60405180910390fd5b610c6e8286868403610fb8565b60019250505092915050565b6000610c87338484611183565b6001905092915050565b600060028060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166004811115610cf857610cf7611ad3565b5b60ff161015610d3c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610d3390611ce1565b60405180910390fd5b8284610d489190611d30565b91505092915050565b6000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054905092915050565b610de0610fb0565b73ffffffffffffffffffffffffffffffffffffffff16610dfe610ac9565b73ffffffffffffffffffffffffffffffffffffffff1614610e54576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4b90611ef2565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff161415610ec4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ebb90612016565b60405180910390fd5b610ecd816111a7565b50565b600060018060ff16600660003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff166004811115610f3757610f36611ad3565b5b60ff161015610f7b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f7290611ce1565b60405180910390fd5b8284610f879190611d30565b91505092915050565b60066020528060005260406000206000915054906101000a900460ff1681565b600033905090565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff161415611028576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161101f906120a8565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff161415611098576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161108f9061213a565b60405180910390fd5b80600160008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055508173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925836040516111769190611a01565b60405180910390a3505050565b61118e83838361126d565b611197836114ee565b506111a1826114ee565b50505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905081600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508173ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e060405160405180910390a35050565b600073ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1614156112dd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112d4906121cc565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16141561134d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113449061225e565b60405180910390fd5b6113588383836117de565b60008060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050818110156113de576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113d5906122f0565b60405180910390fd5b8181036000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002081905550816000808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546114719190611e50565b925050819055508273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef846040516114d59190611a01565b60405180910390a36114e88484846117e3565b50505050565b6000806114f96108a3565b600a6115059190612443565b61150e846109f9565b61151891906124bd565b90506064811015801561152d57506103e88111155b1561159b576001600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561159557611594611ad3565b5b02179055505b6103e8811180156115ae57506127108111155b1561161c576002600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561161657611615611ad3565b5b02179055505b612710811180156116305750620186a08111155b1561169e576003600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561169857611697611ad3565b5b02179055505b620186a0811115611716576004600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561170c5761170b611ad3565b5b0217905550611789565b6064811015611788576000600660008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff0219169083600481111561178257611781611ad3565b5b02179055505b5b600660008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff16915050919050565b505050565b505050565b600081519050919050565b600082825260208201905092915050565b60005b83811015611822578082015181840152602081019050611807565b83811115611831576000848401525b50505050565b6000601f19601f8301169050919050565b6000611853826117e8565b61185d81856117f3565b935061186d818560208601611804565b61187681611837565b840191505092915050565b6000602082019050818103600083015261189b8184611848565b905092915050565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006118d3826118a8565b9050919050565b6118e3816118c8565b81146118ee57600080fd5b50565b600081359050611900816118da565b92915050565b6000819050919050565b61191981611906565b811461192457600080fd5b50565b60008135905061193681611910565b92915050565b60008060408385031215611953576119526118a3565b5b6000611961858286016118f1565b925050602061197285828601611927565b9150509250929050565b60008115159050919050565b6119918161197c565b82525050565b60006020820190506119ac6000830184611988565b92915050565b600080604083850312156119c9576119c86118a3565b5b60006119d785828601611927565b92505060206119e885828601611927565b9150509250929050565b6119fb81611906565b82525050565b6000602082019050611a1660008301846119f2565b92915050565b600080600060608486031215611a3557611a346118a3565b5b6000611a43868287016118f1565b9350506020611a54868287016118f1565b9250506040611a6586828701611927565b9150509250925092565b600060ff82169050919050565b611a8581611a6f565b82525050565b6000602082019050611aa06000830184611a7c565b92915050565b600060208284031215611abc57611abb6118a3565b5b6000611aca848285016118f1565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b60058110611b1357611b12611ad3565b5b50565b6000819050611b2482611b02565b919050565b6000611b3482611b16565b9050919050565b611b4481611b29565b82525050565b6000602082019050611b5f6000830184611b3b565b92915050565b611b6e816118c8565b82525050565b6000602082019050611b896000830184611b65565b92915050565b60058110611b9c57600080fd5b50565b600081359050611bae81611b8f565b92915050565b60008060408385031215611bcb57611bca6118a3565b5b6000611bd9858286016118f1565b9250506020611bea85828601611b9f565b9150509250929050565b60008060408385031215611c0b57611c0a6118a3565b5b6000611c19858286016118f1565b9250506020611c2a858286016118f1565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611c7b57607f821691505b60208210811415611c8f57611c8e611c34565b5b50919050565b7f4869676865722072616e6b207265717569726564000000000000000000000000600082015250565b6000611ccb6014836117f3565b9150611cd682611c95565b602082019050919050565b60006020820190508181036000830152611cfa81611cbe565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611d3b82611906565b9150611d4683611906565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615611d7f57611d7e611d01565b5b828202905092915050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206160008201527f6c6c6f77616e6365000000000000000000000000000000000000000000000000602082015250565b6000611de66028836117f3565b9150611df182611d8a565b604082019050919050565b60006020820190508181036000830152611e1581611dd9565b9050919050565b6000611e2782611906565b9150611e3283611906565b925082821015611e4557611e44611d01565b5b828203905092915050565b6000611e5b82611906565b9150611e6683611906565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115611e9b57611e9a611d01565b5b828201905092915050565b7f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572600082015250565b6000611edc6020836117f3565b9150611ee782611ea6565b602082019050919050565b60006020820190508181036000830152611f0b81611ecf565b9050919050565b7f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f7760008201527f207a65726f000000000000000000000000000000000000000000000000000000602082015250565b6000611f6e6025836117f3565b9150611f7982611f12565b604082019050919050565b60006020820190508181036000830152611f9d81611f61565b9050919050565b7f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160008201527f6464726573730000000000000000000000000000000000000000000000000000602082015250565b60006120006026836117f3565b915061200b82611fa4565b604082019050919050565b6000602082019050818103600083015261202f81611ff3565b9050919050565b7f45524332303a20617070726f76652066726f6d20746865207a65726f2061646460008201527f7265737300000000000000000000000000000000000000000000000000000000602082015250565b60006120926024836117f3565b915061209d82612036565b604082019050919050565b600060208201905081810360008301526120c181612085565b9050919050565b7f45524332303a20617070726f766520746f20746865207a65726f20616464726560008201527f7373000000000000000000000000000000000000000000000000000000000000602082015250565b60006121246022836117f3565b915061212f826120c8565b604082019050919050565b6000602082019050818103600083015261215381612117565b9050919050565b7f45524332303a207472616e736665722066726f6d20746865207a65726f20616460008201527f6472657373000000000000000000000000000000000000000000000000000000602082015250565b60006121b66025836117f3565b91506121c18261215a565b604082019050919050565b600060208201905081810360008301526121e5816121a9565b9050919050565b7f45524332303a207472616e7366657220746f20746865207a65726f206164647260008201527f6573730000000000000000000000000000000000000000000000000000000000602082015250565b60006122486023836117f3565b9150612253826121ec565b604082019050919050565b600060208201905081810360008301526122778161223b565b9050919050565b7f45524332303a207472616e7366657220616d6f756e742065786365656473206260008201527f616c616e63650000000000000000000000000000000000000000000000000000602082015250565b60006122da6026836117f3565b91506122e58261227e565b604082019050919050565b60006020820190508181036000830152612309816122cd565b9050919050565b60008160011c9050919050565b6000808291508390505b60018511156123675780860481111561234357612342611d01565b5b60018516156123525780820291505b808102905061236085612310565b9450612327565b94509492505050565b600082612380576001905061243c565b8161238e576000905061243c565b81600181146123a457600281146123ae576123dd565b600191505061243c565b60ff8411156123c0576123bf611d01565b5b8360020a9150848211156123d7576123d6611d01565b5b5061243c565b5060208310610133831016604e8410600b84101617156124125782820a90508381111561240d5761240c611d01565b5b61243c565b61241f848484600161231d565b9250905081840481111561243657612435611d01565b5b81810290505b9392505050565b600061244e82611906565b915061245983611a6f565b92506124867fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8484612370565b905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b60006124c882611906565b91506124d383611906565b9250826124e3576124e261248e565b5b82820490509291505056fea2646970667358221220edbee77cd3b32e230cda9a71b5c6034380f519de7ae54547e9230c708693d4d464736f6c634300080a0033",
//  "linkReferences": {},
//  "deployedLinkReferences": {}
//}];

  const ContractABI = [
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Approval",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "Transfer",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "decimals",
		"outputs": [
			{
				"internalType": "uint8",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "subtractedValue",
				"type": "uint256"
			}
		],
		"name": "decreaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_holder",
				"type": "address"
			}
		],
		"name": "getRank",
		"outputs": [
			{
				"internalType": "enum Token.UserRank",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "_holder",
				"type": "address"
			},
			{
				"internalType": "enum Token.UserRank",
				"name": "_rank",
				"type": "uint8"
			}
		],
		"name": "hasRank",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "addedValue",
				"type": "uint256"
			}
		],
		"name": "increaseAllowance",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "name",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "rank",
		"outputs": [
			{
				"internalType": "enum Token.UserRank",
				"name": "",
				"type": "uint8"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_firstValue",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "_secondValue",
				"type": "uint256"
			}
		],
		"name": "restrictedDiamond",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_firstValue",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "_secondValue",
				"type": "uint256"
			}
		],
		"name": "restrictedGold",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_firstValue",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "_secondValue",
				"type": "uint256"
			}
		],
		"name": "restrictedPlatinum",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "_firstValue",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "_secondValue",
				"type": "uint256"
			}
		],
		"name": "restrictedSilver",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "symbol",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "recipient",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "transfer",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "recipient",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "transferFrom",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"stateMutability": "payable",
		"type": "receive"
	}
];

//  const contract = new ethers.Contract(ContractAddress, ContractABI, signer);
  const contract = new ethers.Contract(ContractAddress, ContractABI[0].abi, signer);

  // MetaMask requires requesting permission to connect users accounts

  useEffect(() => {
    const connectWallet = async () => {
      await provider.send("eth_requestAccounts", []).then((res) => {
        // Return the address of the wallet
        console.log(res);
        setUserAddress(res[0]);
      });
    };
    connectWallet().catch(console.error);
  }, []);

  useEffect(() => {
    if (!userAddress) return;
    console.log("inside userAddress UseEffect ");
    const callContract = async () => {
      await contract.balanceOf(userAddress).then((res) => {
        setBalance(parseInt(res) / 10 ** 18);
      });
      await contract.getRank(userAddress).then((res) => {
        setRank(parseInt(res));
      });
    };
    callContract().catch(console.error);
  }, [userAddress]);

  const UserRank = ["None", "Silver", "Gold", "Platinum", "Diamond"];

  /* 
  commented out because not needed 
  
  const handleDeposit = (e) => {
    setDepositValue(e.target.value);
  };

  const handleRank = (e) => {
    setRankValue(e.target.value);
  };

  const handleDepositSubmit = (e) => {
    e.preventDefault();
    console.log(depositValue);
  };

  const handleRankSubmit = (e) => {
    e.preventDefault();
    console.log(rankValue);
  }; */
  return (
    <Container fluid style={{ backgroundColor: "#a1fcd9", minHeight: "100vh" }}>
      {/* Navbar  */}
      <Row>
        <Navbar collapseOnSelect expand="md" bg="light" variant="light">
          <Container fluid>
            <img src="./logo.png" width="70" height="70" alt="logo" />
            <Navbar.Brand href="#home">
              <h3>Contracts AGREED Upon </h3>
            </Navbar.Brand>
            <Navbar.Toggle aria-controls="responsive-navbar-nav" />

            <Navbar.Collapse id="responsive-navbar-nav">
              <Nav className="container-fluid">
                <Nav.Item className="ms-5">
                  <h5>
                    {userAddress
                      ? "Wallet: " + userAddress.substring(0, 7) + "..."
                      : ""}
                  </h5>
                </Nav.Item>
                <Nav.Item className="ms-auto">
                  <h5>{rank >= 0 ? "LVL: " + UserRank[rank] : ""}</h5>
                </Nav.Item>
                <Nav.Item className="ms-5">
                  <h5>{balance ? "AGRD: " + balance : ""}</h5>
                </Nav.Item>
              </Nav>
            </Navbar.Collapse>
          </Container>
        </Navbar>
      </Row>
      {/* Main Content */}
      <Row style={{ marginTop: "10px", marginBottom: "10px" }}>
        {/* left side */}
        <Col xs={12} md={8}>
          <Container>
            {/* Cards */}
            <Row className="flex-grow-1 justify-content-center align-items-center">
              {rank /* change to these values for real scenario:
                     rank
                      ? Array(rank) 
                      
                      for testing purpose it shows all 4 possible ranks
                     test
                      ? Array(4)

                      show all for testing purposes*/
                ? Array(rank)
                    .fill(1)
                    .map((el, i) => {
                      return (
                        <RankCard
                          key={i}
                          rankname={UserRank[i + 1]}
                          index={i + 1}
                        />
                      );
                    })
                : ""}
            </Row>
          </Container>
        </Col>
        {/* right side */}
        <Col
          xs={6}
          md={4}
          className="d-flex flex-column justify-content-center align-items-start"
        >
          <h3>
            Learn how to convert your physical contracts into private NFTs
          </h3>
          <Button variant="light" size="lg" href="learn">
            Learn More!
          </Button>
        </Col>
      </Row>

      {/* Footer */}
      <Row>
        <Navbar bg="#a1fcd9" variant="light">
          <Container className="">
            <Nav className="container-fluid flex-wrap">
              <Nav.Link className="ms-auto" href="https://agreed.techruche.co/comingsoon/comingsoon.html">About</Nav.Link>
              <Nav.Link href="mailto:everythingtechruche@gmail.com">Contact Us</Nav.Link>
              <Nav.Link href="https://agreed.techruche.co/comingsoon/comingsoon.html">Team</Nav.Link>
              <Nav.Link href="https://agreed.techruche.co/comingsoon/comingsoon.html">Instagram</Nav.Link>
              <Nav.Link href="https://agreed.techruche.co/comingsoon/comingsoon.html">Telegram</Nav.Link>
              <Nav.Link href="https://agreed.techruche.co/comingsoon/comingsoon.html">Discord</Nav.Link>
              <Nav.Link href="https://agreed.techruche.co/comingsoon/comingsoon.html">Facebook</Nav.Link>
            </Nav>
          </Container>
        </Navbar>
      </Row>
    </Container>
  );
}

export default App;

{
  /*  
        commented out 
        because of no use right now 

        <div class="col col-lg-2">
              <form onSubmit={handleDepositSubmit}>
                <div class="form-group">
                  <input
                    type="number"
                    class="form-control"
                    placeholder="0"
                    onChange={handleDeposit}
                    value={depositValue}
                  />
                </div>
                <button type="submit" class="btn btn-success">
                  Deposit
                </button>
              </form>
              <form onSubmit={handleRankSubmit}>
                <div class="form-group">
                  <input
                    type="number"
                    class="form-control"
                    placeholder="0"
                    onChange={handleRank}
                    value={rankValue}
                  />
                </div>
                <button type="submit" class="btn btn-primary">
                  Get Rank
                </button>
              </form>
            </div> 
            */
}
